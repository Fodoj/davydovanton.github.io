---
layout: post
title: "Пустая форма логина в Devise"
---

**TL;DR: используйте хеш для метода `authentication_keys` если хотите, что бы `database_authenticatable` применялась к пустому ресурсу.**

Предисловие: данная статья является компиляцией поиска решения на поставленную задачу. Надеюсь, мой опыт кому-то поможет, а если у вас есть иное решение, буду рад его узнать.

Так случилось, что у нас, в [DoInteractive](http://dointeractive.ru), есть проект и тривиальная задача, сделать так, что бы в модалке со входом, при вводе "пустых" данных, показывалось сообщение с ошибкой. Вроде бы ничего не обычного и [devise](https://github.com/plataformatec/devise) должен был нам помочь, но увы, все работало не так как надо. Точнее просто не работало и при "вводе" пустых данных в формы логина наш ресурс (модель `User` в нашем случае) не валидировался, поэтому поэтому на форме отсутствовали тултип с ошибкой не верного логина/пароля.



